:root{
	--white:#fffafc;
	--text:#2a1a24;
	--pink:#ff9ac2;
	--rose:#ff77ab;
	--violet:#b199ff;
	--glass:rgba(255,255,255,.78);
	--glass-d:rgba(255,255,255,.35);
	--line:rgba(0,0,0,.12);
	--shadow:0 18px 40px rgba(0,0,0,.25);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
	margin:0;
	font-family:"Poppins", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
	color:var(--text);
	background:#000;
	overflow:hidden;
}

/* Cute CRT + floating hearts */
.crt{
	pointer-events:none;
	position:fixed; inset:0; z-index:1000;
	background:
		repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0 1px, transparent 1px 3px),
		radial-gradient(1500px 700px at 50% -10%, rgba(255,255,255,.08), transparent 60%),
		radial-gradient(1500px 700px at 50% 110%, rgba(255,255,255,.06), transparent 60%);
	mix-blend-mode:overlay;
	animation:crt-flicker 7s infinite steps(60);
}
@keyframes crt-flicker{0%{opacity:.18}50%{opacity:.26}100%{opacity:.18}}

#fx{position:fixed; inset:0; pointer-events:none; z-index:5}

/* Desktop with fallback gradient if image missing */
.desktop{
	position:fixed; inset:0;
	/* Replace --bg-url value inline in HTML to point to your custom image */
	background:
		linear-gradient(180deg, rgba(255,182,206,.6), rgba(199,176,255,.6)),
		var(--bg-url, none);
	background-size:cover, cover;
	background-position:center, center;
}
.title{
	position:absolute; top:22px; left:24px; margin:0;
	font-weight:800; font-size:clamp(22px,4vw,36px);
	color:#3a2236; text-shadow:0 2px 0 rgba(255,255,255,.7);
	background:rgba(255,255,255,.7); border:1px solid var(--line);
	border-radius:14px; padding:6px 12px; box-shadow:var(--shadow);
}
.heart{color:#ff5fa2}

/* Icons */
.icons{
	position:absolute; left:24px; top:96px;
	display:grid; grid-template-columns:repeat(1, 110px); gap:18px;
}
.icon{
	width:110px; height:110px; display:grid; place-items:center;
	background:var(--glass); border:1px solid var(--line); border-radius:18px;
	backdrop-filter:blur(10px);
	cursor:pointer; transition:.18s transform, .18s box-shadow;
	box-shadow:var(--shadow);
}
.icon:hover{transform:translateY(-2px)}
.icon img{width:54px; height:54px}
.icon span{font-size:16px; margin-top:6px; color:#3a2236; font-weight:600}

/* Windows */
.window{
	position:absolute; left:200px; top:120px;
	width:min(880px, 74vw);
	background:var(--glass);
	border:1px solid var(--line);
	border-radius:18px; box-shadow:var(--shadow);
	backdrop-filter:blur(20px) saturate(120%);
	opacity:0; transform:translateY(6px) scale(.98); pointer-events:none;
	transition:opacity .2s ease, transform .2s ease;
}
.window.open{opacity:1; transform:translateY(0) scale(1); pointer-events:auto}
.window.minimized .win-body{display:none}
.win-bar{
	display:flex; align-items:center; justify-content:space-between;
	padding:10px 12px; border-bottom:1px solid var(--line);
	background:linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.65));
	border-radius:18px 18px 0 0; cursor:move;
	color:#3a2236; font-weight:700;
}
.win-actions{display:flex; gap:8px}
.btn{
	background:linear-gradient(180deg, #fff, #ffeaf3);
	color:#3a2236; border:1px solid var(--line);
	border-radius:10px; padding:4px 10px; cursor:pointer; font-size:16px;
	box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);
}
.btn.small{padding:0 10px; line-height:28px; height:28px}
.btn.danger{background:linear-gradient(180deg, #ffd1e2, #ffc2da)}
.win-body{padding:14px}

/* Widths */
.w-md{width:min(560px, 86vw)}
.w-lg{width:min(960px, 86vw)}

/* Document */
.doc{
	line-height:1.9; font-size:18px; color:#3a2236;
}
.doc b{color:#ff3f8b}
.doc .sign{margin-top:12px; font-weight:800}

/* Music Player */
.music{
	position:fixed; left:16px; bottom:16px; width:420px;
	background:var(--glass); border:1px solid var(--line);
	border-radius:18px; box-shadow:var(--shadow);
}
.music.minimized .music__body{display:none}
.music__bar{
	display:flex; align-items:center; justify-content:space-between;
	padding:8px 10px; border-bottom:1px solid var(--line);
	background:linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.65));
	border-radius:18px 18px 0 0; cursor:move; color:#3a2236; font-weight:700;
}
.music__body{padding:10px; display:grid; gap:8px}
.track{color:#3a2236; font-weight:600}
.controls{display:grid; grid-template-columns:auto auto 1fr auto; gap:8px; align-items:center}
.controls .btn{height:32px}
#seek{width:100%}

/* Responsive */
@media (max-width: 800px){
	.icons{grid-template-columns:repeat(2, 110px)}
	.window{left:10px; top:110px; width:calc(100vw - 20px)}
	.w-lg{width:calc(100vw - 20px)}
	.music{width:calc(100vw - 32px)}
}
