:root{
	--black:#0a0a0a;
	--white:#f5f5f5;
	--mono:#cfcfcf;
	--glass:rgba(255,255,255,.08);
	--glass-2:rgba(255,255,255,.18);
	--shadow:0 12px 30px rgba(0,0,0,.5);
	--line:rgba(255,255,255,.04);
	--accent:#ffffff;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
	margin:0;
	font-family:"VT323", ui-monospace, Menlo, Consolas, monospace;
	color:var(--white);
	background:#000;
	overflow:hidden;
}

/* CRT/scanline overlay + subtle flicker */
.crt{
	pointer-events:none;
	position:fixed; inset:0; z-index:1000;
	background:
		repeating-linear-gradient(0deg, rgba(255,255,255,.05) 0 1px, transparent 1px 3px),
		radial-gradient(1200px 600px at 50% -10%, rgba(255,255,255,.05), transparent 60%),
		radial-gradient(1200px 600px at 50% 110%, rgba(255,255,255,.03), transparent 60%);
	mix-blend-mode:overlay;
	animation:crt-flicker 7s infinite steps(60);
}
@keyframes crt-flicker{
	0%{opacity:.25} 50%{opacity:.32} 100%{opacity:.25}
}

/* Desktop */
.desktop{
	position:fixed; inset:0;
	background-size:cover; background-position:center;
	filter:grayscale(100%) contrast(120%);
}
.glitch-title{
	position:absolute; top:24px; left:24px; margin:0;
	font-size:48px; letter-spacing:2px; color:#fff; text-shadow:2px 2px 0 #000;
	animation:glitch 2s infinite;
}
.glitch-title::before,.glitch-title::after{
	content:attr(data-text); position:absolute; left:0; top:0;
}
.glitch-title::before{color:#aaa; transform:translate(2px,0)}
.glitch-title::after{color:#ddd; transform:translate(-2px,0)}
@keyframes glitch{
	0%,100%{clip-path:inset(0 0 0 0)}
	10%{clip-path:inset(0 0 70% 0)}
	11%{clip-path:inset(0 0 0 0)}
	30%{clip-path:inset(60% 0 0 0)}
	31%{clip-path:inset(0 0 0 0)}
}

/* Icons */
.icons{
	position:absolute; left:24px; top:96px;
	display:grid; grid-template-columns:repeat(1, 100px); gap:18px;
}
.icon{
	width:100px; height:100px; display:grid; place-items:center;
	background:rgba(0,0,0,.25); border:1px solid var(--line); border-radius:12px;
	backdrop-filter:blur(8px); cursor:pointer; transition:.15s transform;
	box-shadow:var(--shadow);
}
.icon:hover{transform:translateY(-2px)}
.icon img{width:48px; height:48px; image-rendering:pixelated; filter:grayscale(100%)}
.icon span{font-size:18px; margin-top:6px; color:#fff}

/* Windows */
.window{
	position:absolute; left:200px; top:120px;
	width:min(880px, 70vw);
	background:rgba(0,0,0,.55);
	border:1px solid var(--glass-2);
	border-radius:12px; box-shadow:var(--shadow);
	backdrop-filter:blur(10px) saturate(80%);
}
.window.minimized .win-body{display:none}
.win-bar{
	display:flex; align-items:center; justify-content:space-between;
	padding:8px 10px; border-bottom:1px solid var(--line);
	background:rgba(255,255,255,.04); border-radius:12px 12px 0 0; cursor:move;
}
.win-bar span{letter-spacing:1px}
.win-actions{display:flex; gap:6px}
.btn{
	background:#111; color:#fff; border:1px solid var(--glass-2);
	border-radius:6px; padding:4px 8px; cursor:pointer; font-size:16px;
}
.btn.small{padding:0 8px; line-height:24px; height:24px}
.btn.danger{background:#222}
.win-body{padding:14px}

/* Window widths */
.w-sm{width:360px}
.w-md{width:520px}
.w-lg{width:min(960px, 82vw)}

/* Document text */
.doc{
	line-height:1.7; font-size:20px; color:#eee;
}
.doc .sign{margin-top:12px; font-weight:700}

/* Gallery */
.gallery{
	display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:10px;
}
.gallery img{
	width:100%; height:150px; object-fit:cover; border-radius:8px;
	cursor:zoom-in; filter:grayscale(100%); transition:transform .15s;
}
.gallery img:hover{transform:translateY(-2px)}

/* Music Player */
.music{
	position:fixed; left:16px; bottom:16px; width:420px;
	background:rgba(0,0,0,.6); border:1px solid var(--glass-2);
	border-radius:12px; box-shadow:var(--shadow);
}
.music.minimized .music__body{display:none}
.music__bar{
	display:flex; align-items:center; justify-content:space-between;
	padding:8px 10px; border-bottom:1px solid var(--line);
	background:rgba(255,255,255,.04); border-radius:12px 12px 0 0; cursor:move;
}
.music__body{padding:10px; display:grid; gap:8px}
.track{color:#eaeaea; font-size:20px}
.controls{display:grid; grid-template-columns:auto auto 1fr auto; gap:8px; align-items:center}
.controls .btn{height:28px}
#seek{width:100%}

/* Lightbox */
.lightbox{
	position:fixed; inset:0; display:none; place-items:center;
	background:rgba(0,0,0,.8); z-index:999;
}
.lightbox.show{display:grid}
.lightbox img{max-width:92vw; max-height:86vh; border-radius:10px}
.lightbox__close{
	position:absolute; top:12px; right:12px; font-size:28px;
	background:#111; color:#fff; border:1px solid var(--glass-2); border-radius:8px; width:40px; height:40px;
}

/* Effects canvas */
#fx{position:fixed; inset:0; pointer-events:none; z-index:5}

/* Responsive */
@media (max-width: 800px){
	.icons{grid-template-columns:repeat(2, 100px)}
	.window{left:10px; top:110px; width:calc(100vw - 20px)}
	.w-lg{width:calc(100vw - 20px)}
	.music{width:calc(100vw - 32px)}
}
